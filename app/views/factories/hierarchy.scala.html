@(factory: Factory, hierarchy: Hierarchy, elements: List[Element], paginateData: utils.PaginateData,
    loggedInUser: Option[User], activeOrg: Option[Organisation])(implicit flash: Flash, request: RequestHeader, 
    messages: Messages, lang: Lang, webJarAssets: WebJarAssets)

@import templates._
@import components.buttons._
@import components.media._
@import components.utils._

@main(utils.MainViewData(hierarchy.name, utils.NavTypes.Factories), loggedInUser, activeOrg) {
	
	@title(hierarchy.name)
	@rowContentButtons() {
        @{
            val linkList = List(controllers.routes.FactoryController.factory(factory.uuid, 1),
                controllers.routes.FactoryController.hierarchy(hierarchy.uuid, 1))
            val textList = List(factory.name, hierarchy.name)
            breadcrumb(linkList, textList)
        }		
    	@{
            val mediaList = elements.map((ie: Element) =>
            	routes.FileController.getThumbnailImage(ie.uuid, models.Types.ElementType.stringValue))

            val linkList = elements.map((ie: Element) =>
                controllers.routes.FactoryController.element(ie.uuid, 1, 1))
            val headingList = elements.map(_.name)
            val textList = elements.map(_.name)

            displayPaginatedList(mediaList, linkList, headingList, textList, List(),
            	paginateData, controllers.routes.FactoryController.hierarchy(hierarchy.uuid, _))
    	}
    }{
    	@backButton(controllers.routes.FactoryController.factory(factory.uuid, 1))
        @createButton(controllers.routes.FactoryController.create)
    }
}