@(signUpForm: Form[forms.SignUpForm.Data], loggedInUser: Option[User], activeOrg: Option[Organisation])(implicit request: RequestHeader, messages: Messages, 
	webJarAssets: WebJarAssets, flash: Flash)

@import b3.inline.fieldConstructor
@import templates._

@main(Messages("signUp"), loggedInUser, activeOrg) {
    @rowMainSecondary() {
        @title(loggedInUser.map(s => Messages("user")).getOrElse(Messages("signUp")), 
        	loggedInUser.map(s => Some(Messages("function.edit"))).getOrElse(None)
        )
    }{
        @button(routes.SignInController.view, Messages("signIn"))
    }	
    <hr>
	@rowColumnCenter() {
		@formNormal(loggedInUser match { 
        		case Some(user) => routes.SignUpController.editSubmit(user.uuid)
        		case None => routes.SignUpController.submit
       		}, Messages("signUp")) {
            @b3.text(signUpForm("firstName"), '_hiddenLabel -> Messages("first.name"), 'placeholder -> Messages("first.name"), 'class -> "form-control input-lg")
            @b3.text(signUpForm("lastName"), '_hiddenLabel -> Messages("last.name"), 'placeholder -> Messages("last.name"), 'class -> "form-control input-lg")
            @b3.text(signUpForm("email"), '_hiddenLabel -> Messages("email"), 'placeholder -> Messages("email"), 'class -> "form-control input-lg")
            @b3.password(signUpForm("password"), '_hiddenLabel -> Messages("password"), 'placeholder -> Messages("password"), 'class -> "form-control input-lg")
        }
        @if(loggedInUser.isDefined) {
        	<hr>
        
        	@formFileUpload(routes.FileController.submitImage(loggedInUser.get.uuid, models.Types.UserType.stringValue))
        }
    }
}
