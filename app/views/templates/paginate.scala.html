@(paginateData:utils.PaginateData, route:Int => Call, bound:Int = utils.DefaultValues.DefaultPageLength)(implicit flash: Flash, 
	messages: Messages)

@lowbound() = @{
    ((paginateData.page.toDouble / bound).floor * bound).toInt
}

@highbound() = @{
    if ((lowbound() + bound) * paginateData.pageLength >= paginateData.count)
        if((paginateData.count % paginateData.pageLength) > 0) {
            paginateData.count / paginateData.pageLength + 1
        } else {
            paginateData.count / paginateData.pageLength
        }
    else
        lowbound() + bound
}

@if(paginateData.count > paginateData.pageLength) {
    <nav>
        <ul class="pagination">
            @if(paginateData.page == 1){
                <li class="disabled">
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">@Messages("command.previous")</span>
                    </a>
                </li>
            } else {
                <li>
                    <a href="@route(paginateData.page-1)" aria-label="Previous">
                        <span aria-hidden="true">@Messages("command.previous")</span>
                    </a>
                </li>
            }

            @if(paginateData.page < bound) {
                <li class="disabled"><a href="#"><span aria-hidden="true">&laquo;</span></a></li>
            } else {
                @if(lowbound()-bound <= 0) {
                    <li><a href="@route(1)"><span aria-hidden="true">&laquo;</span></a></li>
                } else {
                    <li><a href="@route(lowbound()-bound)"><span aria-hidden="true">&laquo;</span></a></li>
                }
            }

            @for(i <- lowbound().max(1) until paginateData.page) {
                <li><a href="@route(i)">@i</a></li>
            }

            <li class="active"><a href="#">@paginateData.page</a></li>

            @for(i <- paginateData.page+1 to highbound()) {
                <li><a href="@route(i)">@i</a></li>
            }

            @if(highbound() * paginateData.pageLength <= paginateData.count && highbound() > paginateData.page && paginateData.page * paginateData.pageLength != paginateData.count) {
                <li><a href="@route(highbound())"><span aria-hidden="true">&raquo;</span></a></li>
            } else {
                <li class="disabled"><a href="#"><span aria-hidden="true">&raquo;</span></a></li>
            }

            @if(paginateData.page < highbound()) {
                <li><a href="@route(paginateData.page+1)" aria-label="Next">
                    <span aria-hidden="true">@Messages("command.next")</span>
                </a></li>
            } else {
                <li class="disabled"><a href="#" aria-label="Next">
                    <span aria-hidden="true">@Messages("command.next")</span>
                </a></li>
            }
        </ul>
    </nav>
}
